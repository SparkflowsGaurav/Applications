{"name":"Structured Streaming - Join Hive Table","uuid":"78d54c57-d302-432e-8c71-aab56b9dc67e","category":"Join HIVE","description":"Reads from Kafka, parses the record and writes it out to HDFS","parameters":"-","nodes":[{"id":"1","name":"StructuredStreamingKafka","description":"Reads in streaming text from topics in Kafka","details":"","examples":"","type":"sparkstreaming","nodeClass":"fire.nodes.structuredstreaming.NodeStructuredStreamingKafka","x":"192.774px","y":"210.42px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"batchDuration","value":"30","widget":"textfield","title":"Batch Duration in Seconds","description":"Batch Duration in Seconds","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"brokers","value":"localhost:9092","widget":"textfield","title":"Kafka Brokers","description":"Kafka Brokers","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"group","value":"my-consumer-group","widget":"textfield","title":"Consumer Group","description":"Consumer Group","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"topics","value":"flights","widget":"textfield","title":"Kafka Topics","description":"List of Topics separated by , (comma)","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"autoOffsetReset","value":"latest","widget":"textfield","title":"auto.offset.reset","description":"Auto Offset Reset","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"enableAutoCommit","value":"true","widget":"textfield","title":"enable.auto.commit","description":"Enable Auto Commit","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"kafkaParamsKeys","value":"[]","widget":"key_array","title":"Params Key/Value Pairs","description":"More Config Values","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"kafkaParamsValues","value":"[]","widget":"value_array","title":"Parms Key/Value Pairs","description":"More Config Values","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"2","name":"FieldSplitter","description":"This node splits the string of the specified input column using the specified delimiter","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.etl.NodeFieldSplitter","x":"445.694px","y":"222.406px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"inputCol","value":"value","widget":"variable","title":"Input Column","description":"input column name","datatypes":["string"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputCols","value":"YEAR,MONTH,DAY,DAY_OF_WEEK,airline,FLIGHT_NUMBER,TAIL_NUMBER,ORIGIN_AIRPORT,DESTINATION_AIRPORT,SCHEDULED_DEPARTURE,DEPARTURE_TIME,DEPARTURE_DELAY,TAXI_OUT,WHEELS_OFF,SCHEDULED_TIME,ELAPSED_TIME,AIR_TIME,DISTANCE,WHEELS_ON,TAXI_IN,SCHEDULED_ARRIVAL,ARRIVAL_TIME,ARRIVAL_DELAY,DIVERTED,CANCELLED,CANCELLATION_REASON,AIR_SYSTEM_DELAY,SECURITY_DELAY,AIRLINE_DELAY,LATE_AIRCRAFT_DELAY,WEATHER_DELAY","widget":"textarea_medium","title":"Output Columns","description":"new column names separed by comma\u0027,\u0027.(eg: col1,co2,col3)","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"sep","value":" ,","widget":"textfield","title":"Separator","description":"separator to split the input column value(default: space)","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"onError","value":"ignore","widget":"array","title":"On Error","description":"","optionsArray":["die","ignore"],"required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"3","name":"StructuredStreamingFileSink","description":"It writes the DataFrame to files with Structured Streaming","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.structuredstreaming.NodeStructuredStreamingFileSink","x":"950.785px","y":"116.458px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"path","value":"newflightsDelays","widget":"textfield","title":"Path","description":"Path where to write the files","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputMode","value":"complete","widget":"array","title":"Output Mode","description":"Output Mode for saving to Files","optionsArray":["append","complete","update"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"checkpointLocation","value":"newflightsDelays_checkpoint","widget":"textfield","title":"Checkpoint Location","description":"Checkpoint Location on HDFS compatible file system for Streaming","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"format","value":"csv","widget":"array","title":"Format","description":"File Format","optionsArray":["csv","orc","json","parquet"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"partitionBy","value":"","widget":"textfield","title":"Partition By Columns","description":"Partition By Columns separated by space (can be empty in which case partitionBy would not be applied)","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"9","name":"Read HIVE Table","description":"This node reads data from HIVE table and creates a DataFrame from it","details":"","examples":"","type":"dataset","nodeClass":"fire.nodes.hive.NodeHIVE","x":"284.92px","y":"59.6076px","fields":[{"name":"storageLevel","value":"MEMORY_AND_DISK","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"db","value":"flight_delays","widget":"textfield","title":"HIVE Database","description":"HIVE Database","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"table","value":"airlines","widget":"textfield","title":"HIVE Table","description":"HIVE Table from which to read the data","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"query","value":"","widget":"textarea_medium","title":"HIVE Query (Optional)","description":"If a separate HIVE query needs to be used for reading from HIVE. This field is optional.","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColNames","value":"[\"airline\",\"airline_desc\"]","widget":"schema_col_names","title":"Column Names of the database table","description":"Column Names of the database table","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColTypes","value":"[\"STRING\",\"STRING\"]","widget":"schema_col_types","title":"Column Types of the database table","description":"Column Types of the database table","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"12","name":"Join Using SQL","description":"This node registers the incoming DataFrames as temporary tables and executes the SQL provided","details":"","examples":"","type":"join","nodeClass":"fire.nodes.etl.NodeJoinUsingSQL","x":"622.917px","y":"108.587px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"tempTable1","value":"fire_temp_table1","widget":"textfield","title":"Temp Table1","description":"Temp Table Name to be used","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"tempTable2","value":"fire_temp_table2","widget":"textfield","title":"Temp Table2","description":"Temp Table Name to be used","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"sql","value":"select a.FLIGHT_NUMBER, a.airline , b.airline_desc from fire_temp_table1 a JOIN  fire_temp_table2 b ON(a.airline\u003db.airline)","widget":"textarea_large","title":"SQL","description":"SQL to be run","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColNames","value":"[\"FLIGHT_NUMBER\",\"airline\",\"airline_desc\"]","widget":"schema_col_names","title":"Column Names for the CSV","description":"New Output Columns of the SQL","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColTypes","value":"[\"STRING\",\"STRING\",\"STRING\"]","widget":"schema_col_types","title":"Column Types for the CSV","description":"Data Type of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColFormats","value":"[\"\",\"\",\"\"]","widget":"schema_col_formats","title":"Column Formats for the CSV","description":"Format of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"}],"edges":[{"source":"1","target":"2","id":1},{"source":"2","target":"12","id":2},{"source":"12","target":"3","id":3},{"source":"9","target":"12","id":4}],"dataSetDetails":[],"engine":"scala"}